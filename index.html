<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catálogo Digital</title>
    <link rel="stylesheet" href="src/styles.css" />
</head>
<body>
    <main class="page">
        <section class="auth-card" data-section="auth">
            <header class="auth-header">
                <h1 class="auth-title">Catálogo Digital</h1>
                <p class="auth-subtitle">Inicia sesión o crea una cuenta para continuar</p>
            </header>

            <nav class="auth-tabs" aria-label="Selecciona un formulario">
                <button class="auth-tab active" type="button" data-target="loginForm">Iniciar sesión</button>
                <button class="auth-tab" type="button" data-target="registerForm">Crear cuenta</button>
            </nav>

            <form id="loginForm" class="auth-form" autocomplete="on">
                <label class="form-label" for="loginEmail">Correo electrónico</label>
                <input class="form-input" type="email" id="loginEmail" name="email" placeholder="tu@negocio.com" required />

                <label class="form-label" for="loginPassword">Contraseña</label>
                <input class="form-input" type="password" id="loginPassword" name="password" placeholder="••••••••" minlength="6" required />

                <button class="form-submit" type="submit">Entrar</button>
                <p class="form-feedback" role="status" data-feedback-for="login"></p>
            </form>

            <form id="registerForm" class="auth-form hidden" autocomplete="on">
                <label class="form-label" for="registerEmail">Correo electrónico</label>
                <input class="form-input" type="email" id="registerEmail" name="email" placeholder="tu@negocio.com" required />

                <label class="form-label" for="registerPassword">Contraseña</label>
                <input class="form-input" type="password" id="registerPassword" name="password" placeholder="Mínimo 6 caracteres" minlength="6" required />

                <label class="form-label" for="registerPasswordConfirm">Confirmar contraseña</label>
                <input class="form-input" type="password" id="registerPasswordConfirm" name="passwordConfirm" placeholder="Repite la contraseña" minlength="6" required />

                <button class="form-submit" type="submit">Crear cuenta</button>
                <p class="form-feedback" role="status" data-feedback-for="register"></p>
            </form>
        </section>

        <section class="dashboard hidden" data-section="dashboard">
            <header class="dashboard-header">
                <div>
                    <h2 class="dashboard-title">Panel de Control</h2>
                    <p class="dashboard-subtitle">Administra tu negocio y catálogo en un solo lugar</p>
                </div>
                <div class="dashboard-actions">
                    <span class="user-pill" data-user-email>Invitado</span>
                    <button class="logout-button" type="button" id="logoutButton">Cerrar sesión</button>
                </div>
            </header>

            <nav class="dashboard-tabs" aria-label="Secciones del panel">
                <button class="dashboard-tab active" type="button" data-dashboard-tab="overview">Resumen</button>
                <button class="dashboard-tab" type="button" data-dashboard-tab="catalog">Catálogo</button>
            </nav>

            <section class="dashboard-panel" data-dashboard-panel="overview">
                <section class="stats-grid" aria-label="Indicadores principales">
                    <article class="stat-card">
                        <h3 class="stat-label">Ventas Totales</h3>
                        <p class="stat-value" id="statTotalSales">₡0</p>
                        <p class="stat-hint">Últimos 30 días</p>
                    </article>
                    <article class="stat-card gradient-2">
                        <h3 class="stat-label">Clientes</h3>
                        <p class="stat-value" id="statTotalClients">0</p>
                        <p class="stat-hint">Activos en tu catálogo</p>
                    </article>
                    <article class="stat-card gradient-3">
                        <h3 class="stat-label">Productos</h3>
                        <p class="stat-value" id="statTotalProducts">0</p>
                        <p class="stat-hint">Inventario disponible</p>
                    </article>
                    <article class="stat-card gradient-4">
                        <h3 class="stat-label">Pedidos Hoy</h3>
                        <p class="stat-value" id="statTodayOrders">0</p>
                        <p class="stat-hint">Actualizado al momento</p>
                    </article>
                </section>

                <section class="dashboard-table" aria-label="Últimas ventas">
                    <header class="table-header">
                        <h3 class="section-subtitle">Últimas Ventas</h3>
                        <span class="table-hint">Se muestran los últimos 5 movimientos registrados</span>
                    </header>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>Fecha</th>
                                    <th>Cliente</th>
                                    <th>Total</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                            <tbody id="recentSalesTable">
                                <tr><td colspan="4" style="text-align: center;">No hay ventas</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </section>

            <section class="dashboard-panel hidden" data-dashboard-panel="catalog" aria-label="Catálogo de productos">
                <header class="catalog-header">
                    <div>
                        <h3 class="section-subtitle">Catálogo de productos</h3>
                        <p class="catalog-hint">Consulta la disponibilidad, precios y estado de tus productos</p>
                    </div>
                    <div class="catalog-actions">
                        <span class="catalog-counter" id="catalogProductsTotal">0 productos</span>
                        <button class="catalog-add-button" type="button" id="addProductButton">Agregar producto</button>
                    </div>
                </header>

                <form id="addProductForm" class="catalog-form hidden" autocomplete="off">
                    <div class="catalog-form-grid">
                        <label class="catalog-form-field">
                            <span>Nombre del producto</span>
                            <input type="text" name="name" placeholder="Ej. Caja de chocolates" required />
                        </label>
                        <label class="catalog-form-field">
                            <span>Categoría</span>
                            <input type="text" name="category" placeholder="Ej. Dulces" required />
                        </label>
                        <label class="catalog-form-field">
                            <span>Precio</span>
                            <input type="number" name="price" min="0" step="0.01" placeholder="₡0.00" required />
                        </label>
                        <label class="catalog-form-field">
                            <span>Inventario</span>
                            <input type="number" name="stock" min="0" step="1" placeholder="0" required />
                        </label>
                        <label class="catalog-form-field">
                            <span>Estado</span>
                            <select name="status" required>
                                <option value="Disponible" selected>Disponible</option>
                                <option value="Bajo stock">Bajo stock</option>
                                <option value="Requiere reposición">Requiere reposición</option>
                                <option value="Agotado">Agotado</option>
                            </select>
                        </label>
                    </div>
                    <div class="catalog-form-actions">
                        <button type="submit" class="catalog-form-submit">Guardar producto</button>
                        <button type="button" class="catalog-form-cancel" id="cancelAddProduct">Cancelar</button>
                    </div>
                    <p class="catalog-form-feedback" role="status" data-feedback="add-product"></p>
                </form>

                <div class="catalog-table-wrapper">
                    <table class="catalog-table">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Categoría</th>
                                <th>Precio</th>
                                <th>Inventario</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody id="catalogProductsTable">
                            <tr><td colspan="5" style="text-align: center;">No hay productos en el catálogo</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </section>
    </main>

    <script type="module" src="src/main.js"></script>
</body>
</html>
